"use strict";(self.webpackChunkreact_for_the_rest_of_us=self.webpackChunkreact_for_the_rest_of_us||[]).push([[758],{7758:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(7294),l=a(1387),r=a(2210),n=a(6974),c=a(9711),o=a(9669),u=a.n(o),m=a(7062),i=a(298),d=a(6168),f=a(7564),h=a(3983);const p=function(){const e=(0,n.s0)(),t=(0,s.useContext)(f.Z),a=(0,s.useContext)(h.Z),{id:o}=(0,n.UO)(),[p,E]=(0,s.useState)(!0),[w,y]=(0,s.useState)();if((0,s.useEffect)((()=>{const e=u().CancelToken.source();return async function(){try{const t=await u().get(`/post/${o}`,{cancelToken:e.token});y(t.data),E(!1)}catch(e){console.log("There was a problem or the request was cancelled.")}}(),()=>{e.cancel()}}),[o]),!p&&!w)return s.createElement(r.Z,null);if(p)return s.createElement(l.Z,{title:"..."},s.createElement(m.Z,null));const g=new Date(w.createdDate),b=`${g.getMonth()+1}/${g.getDate()}/${g.getFullYear()}`;return s.createElement(l.Z,{title:w.title},s.createElement("div",{className:"d-flex justify-content-between"},s.createElement("h2",null,w.title),!!t.loggedIn&&t.user.username===w.author.username&&s.createElement("span",{className:"pt-2"},s.createElement(c.rU,{to:`/post/${w._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},s.createElement("i",{className:"fas fa-edit"})),s.createElement(d.Z,{id:"edit",className:"custom-tooltip"})," ",s.createElement("a",{"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger",onClick:async function(){if(window.confirm("Are you sure that you want to delete the post?"))try{"Success"===(await u().delete(`/post/${o}`,{data:{token:t.user.token}})).data&&(a({type:"flashMessage",value:"Post was successfully deleted."}),e(`/profile/${t.user.username}`))}catch(e){console.log("There was a problem!")}}},s.createElement("i",{className:"fas fa-trash"})),s.createElement(d.Z,{id:"delete",className:"custom-tooltip"}))),s.createElement("p",{className:"text-muted small mb-4"},s.createElement(c.rU,{to:`/profile/${w.author.username}`},s.createElement("img",{className:"avatar-tiny",src:w.author.avatar})),"Posted by"," ",s.createElement(c.rU,{to:`/profile/${w.author.username}`},w.author.username)," ",b),s.createElement("div",{className:"body-content"},s.createElement(i.D,{children:w.body,allowedElements:["p","br","strong","em","h1","h2","h3","h4","h5","h6","ul","ol","li"]})))}}}]);